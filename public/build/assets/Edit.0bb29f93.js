import{u as I,r as l,R as e,H as A,d as M}from"./app.be4e851e.js";import{L as W}from"./Account.7e3ac2cb.js";import{S as K}from"./sweetalert2.all.32233489.js";import"./Dropdown.f6427490.js";function H(){const{errors:t,provinces:c,cities:n,verifPengajuan:s}=I().props,[x,R]=l.exports.useState(s.user_id),[i,h]=l.exports.useState(s.name),[u,k]=l.exports.useState(s.kta),[o,w]=l.exports.useState(s.province_id),[d,P]=l.exports.useState(s.city_id),[E,D]=l.exports.useState(s.tgl_mutasi),[g,j]=l.exports.useState(s.keterangan),[p,y]=l.exports.useState(s.tujuan_mutasi),[N,S]=l.exports.useState(s.dpc_mutasi),[m,_]=l.exports.useState(s.status),[f,C]=l.exports.useState(s.keterangan_revisi),T=async a=>{a.preventDefault(),M.Inertia.post(`/account/verifPengajuanDpc/${s.id}`,{user_id:x,name:i,kta:u,province_id:o,city_id:d,tgl_mutasi:E,keterangan:g,tujuan_mutasi:p,dpc_mutasi:N,status:m,keterangan_revisi:f,_method:"PUT"},{onSuccess:()=>{K.fire({title:"Success!",text:"Data Pengajuan Anda Berhasil di Update!",icon:"success",showConfirmButton:!1,timer:2500})}})},v=a=>{switch(a){case"ditunda":return"bg-warning text-dark";case"dikirim":return"bg-info text-white";case"selesai":return"bg-success text-white";case"tolak":return"bg-danger text-white";case"setujui":return"bg-success text-white";case"revisi":return"bg-warning text-dark";default:return"bg-secondary text-white"}},b=a=>{switch(a){case"ditunda":return"Ditunda untuk perbaikan";case"dikirim":return"Disetujui mutasi oleh DPW/DPC Asal (Terkirim)";case"selesai":return"Diterima DPW/DPC Tujuan (Mutasi Selesai)";case"tolak":return"Ditolak";case"setujui":return"Disetujui";case"revisi":return"Perlu Revisi";default:return a}},r=a=>{switch(a){case"ditunda":return"fas fa-clock";case"dikirim":return"fas fa-paper-plane";case"selesai":return"fas fa-check-circle";case"tolak":return"fas fa-times-circle";case"setujui":return"fas fa-check-circle";case"revisi":return"fas fa-edit";default:return"fas fa-info-circle"}};return e.createElement(e.Fragment,null,e.createElement(A,null,e.createElement("title",null,"Verif Pengajuan - IKATWI")),e.createElement(W,null,e.createElement("div",{className:"container-fluid py-4"},e.createElement("div",{className:"row justify-content-center"},e.createElement("div",{className:"col-12 col-lg-10 col-xl-8"},e.createElement("div",{className:"card shadow-sm border-0"},e.createElement("div",{className:"card-header bg-primary text-white py-3"},e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement("h4",{className:"mb-0"},e.createElement("i",{className:"fas fa-edit me-2"}),"Verif Pengajuan Mutasi"),e.createElement("div",{className:`badge ${v(m)} px-3 py-2`},e.createElement("i",{className:`${r(m)} me-2`}),b(m)))),e.createElement("div",{className:"card-body p-4"},e.createElement("form",{onSubmit:T},e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-md-12"},e.createElement("h5",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-user-circle me-2"}),"Informasi Anggota"))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Nama Lengkap"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-user"})),e.createElement("input",{type:"text",className:"form-control bg-light",value:i,onChange:a=>h(a.target.value),disabled:!0})))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Nomor KTA"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-id-card"})),e.createElement("input",{type:"text",className:"form-control bg-light",value:u,onChange:a=>k(a.target.value),disabled:!0}))))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"DPW Asal"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-map-marker-alt"})),e.createElement("select",{className:"form-select bg-light",disabled:!0,value:o,onChange:a=>w(a.target.value)},e.createElement("option",{value:""},"-- Pilih DPW --"),c.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name)))))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"DPC Asal"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-map-pin"})),e.createElement("select",{className:"form-select bg-light",disabled:!0,value:d,onChange:a=>P(a.target.value)},e.createElement("option",{value:""},"-- Pilih DPC --"),n.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name))))))),e.createElement("div",{className:"row mb-4 mt-4"},e.createElement("div",{className:"col-md-12"},e.createElement("h5",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-exchange-alt me-2"}),"Data Mutasi"))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Tanggal Mutasi"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-calendar-alt"})),e.createElement("input",{type:"date",className:"form-control bg-light",value:E,onChange:a=>D(a.target.value),disabled:!0})),t.tgl_mutasi&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.tgl_mutasi))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Status Verifikasi"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-check-circle"})),e.createElement("select",{className:"form-select",value:m,onChange:a=>_(a.target.value)},e.createElement("option",{value:""},"-- Pilih Status --"),e.createElement("option",{value:"ditunda"},"Ditunda untuk perbaikan"),e.createElement("option",{value:"dikirim"},"Disetujui mutasi oleh DPW/DPC Asal (Terkirim)"),e.createElement("option",{value:"selesai"},"Diterima DPW/DPC Tujuan (Mutasi Selesai)"))),t.status&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.status)))),m&&e.createElement("div",{className:"row mb-3"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"alert alert-info border-0"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("i",{className:`${r(m)} fa-lg me-3`}),e.createElement("div",null,e.createElement("h6",{className:"mb-1 fw-bold"},"Preview Status:"),e.createElement("span",{className:`badge ${v(m)} px-3 py-2`},e.createElement("i",{className:`${r(m)} me-2`}),b(m))))))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Tujuan Mutasi (DPW)"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-map-marker-alt"})),e.createElement("select",{className:"form-select bg-light",value:p,onChange:a=>y(a.target.value),disabled:!0},e.createElement("option",{value:""},"-- Pilih DPW Tujuan --"),c.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name)))),t.tujuan_mutasi&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.tujuan_mutasi))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Tujuan Mutasi (DPC)"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-map-pin"})),e.createElement("select",{className:"form-select bg-light",value:N,onChange:a=>S(a.target.value),disabled:!0},e.createElement("option",{value:""},"-- Pilih DPC Tujuan --"),n.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name)))),t.dpc_mutasi&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.dpc_mutasi)))),e.createElement("div",{className:"row mt-2"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Keterangan Mutasi"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light align-items-start pt-2"},e.createElement("i",{className:"fas fa-sticky-note"})),e.createElement("textarea",{className:"form-control bg-light",rows:"3",value:g,onChange:a=>j(a.target.value),placeholder:"Contoh: mutasi karena pindah tempat kerja",disabled:!0})),t.keterangan&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.keterangan)))),e.createElement("div",{className:"row mt-2"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Keterangan Revisi"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light align-items-start pt-2"},e.createElement("i",{className:"fas fa-edit"})),e.createElement("textarea",{className:"form-control",rows:"3",value:f,onChange:a=>C(a.target.value),placeholder:"Masukkan keterangan revisi jika diperlukan"})),t.keterangan_revisi&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.keterangan_revisi)))),e.createElement("div",{className:"row mt-4"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"d-flex justify-content-end gap-2 border-top pt-4"},e.createElement("button",{type:"reset",className:"btn btn-outline-secondary px-4"},e.createElement("i",{className:"fas fa-redo me-2"})," Reset"),e.createElement("button",{type:"submit",className:"btn btn-success px-4"},e.createElement("i",{className:"fas fa-save me-2"})," Simpan Perubahan"))))))))))))}export{H as default};
