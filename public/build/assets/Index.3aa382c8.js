import{r as n,R as e,H as x}from"./app.2fadf774.js";import{L as C}from"./Web.cc49d18d.js";import{a as P}from"./index.84a6bcb9.js";import"./Dropdown.b671f182.js";function I({provinces:i,cities:u}){const[E,m]=n.exports.useState([]),[p,o]=n.exports.useState(!1),[s,h]=n.exports.useState(""),[c,v]=n.exports.useState(""),[d,N]=n.exports.useState(""),g=new Date,r=(t,a,l)=>{o(!0),m([]),P.post("/searchAnggota",{q:t,dpc:a,dpw:l}).then(w=>{o(!1),m(w.data.anggota.data)})},b=t=>{const a=t.target.value;N(a),r(a,c,s)},y=t=>{const a=t.target.value;h(a),r(d,c,a)},f=t=>{const a=t.target.value;v(a),r(d,a,s)};return e.createElement(e.Fragment,null,e.createElement(x,null,e.createElement("title",null,"IKATWI - Ikatan Terapis Wicara")),e.createElement("br",null),e.createElement(C,null,e.createElement("div",{className:"container",style:{marginTop:"65px",marginBottom:"50px"}},e.createElement("div",{className:"fade-in"},e.createElement("div",{className:"row justify-content-center"},e.createElement("div",{className:"col-md-8 mt-5"},e.createElement("div",{className:"input-group"},e.createElement("input",{type:"text",className:"form-control",onChange:b,placeholder:"Cari disini..."})),e.createElement("div",{className:"input-group mt-2"},e.createElement("select",{className:"form-select mx-2",onChange:y,value:s},e.createElement("option",{value:""},"Pilih DPW"),i.map(t=>e.createElement("option",{key:t.id,value:t.id},t.name))),e.createElement("select",{className:"form-select mx-2",onChange:f,value:c},e.createElement("option",{value:""},"Pilih DPC"),u.map(t=>e.createElement("option",{key:t.id,value:t.id},t.name))))),e.createElement("div",{className:"container",style:{marginTop:"20px"}},e.createElement("div",{className:"fade-in"},e.createElement("div",{className:"row justify-content-center"},e.createElement("div",{className:"col-md-8"},e.createElement("div",{className:"card border-0 rounded shadow-sm border-top-admin"},e.createElement("div",{className:"card-header"},e.createElement("span",{className:"font-weight-bold"},e.createElement("i",{className:"fa fa-users"})," ","Anggota Ikatwi")),e.createElement("div",{className:"card-body"},e.createElement("div",{className:"table-responsive"},p&&e.createElement("div",{className:"row justify-content-center"},e.createElement("div",{className:"col-md-1"},e.createElement("div",{className:"col-md-3 col-6 mb-3"},e.createElement("div",{className:"card-body text-center"},e.createElement("div",{className:"spinner-border text-success justify-content-center mt-3 text-center",role:"status"},e.createElement("span",{className:"visually-hidden"},"Loading...")))))),e.createElement("table",{className:"table table-bordered table-striped table-hovered"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",{scope:"col",style:{width:"3%"}},"No"),e.createElement("th",{scope:"col",style:{width:"8%"}},"Foto"),e.createElement("th",{scope:"col",style:{width:"10%"}},"No Anggota"),e.createElement("th",{scope:"col",style:{width:"15%"}},"Name"),e.createElement("th",{scope:"col",style:{width:"15%"}},"DPW"),e.createElement("th",{scope:"col",style:{width:"15%"}},"DPC"),e.createElement("th",{scope:"col",style:{width:"14%"}},"Status STR"))),e.createElement("tbody",null,E.map((t,a)=>e.createElement("tr",{key:a},e.createElement("td",null,++a),e.createElement("td",{className:"text-center"},e.createElement("img",{src:t.image,className:"rounded-3",width:"50",alt:"Deskripsi gambar",onError:l=>{l.target.onerror=null,l.target.src="/assets/images/user.png"}})),e.createElement("td",null,t.no_anggota),e.createElement("td",null,t.name),e.createElement("td",null,t.province.name),e.createElement("td",null,t.city===0?e.createElement("p",null,"DPC tidak ada"):t.city.name),e.createElement("td",null,new Date(t.surat_strs.map(l=>l.date_end))>=g?e.createElement("span",{className:"btn btn-success btn-sm shadow-sm border-0 ms-2 mb-2"},"Aktif"):e.createElement("span",{className:"btn btn-danger btn-sm shadow-sm border-0 ms-2 mb-2"},"Non Aktif"))))))))))))))))))}export{I as default};
