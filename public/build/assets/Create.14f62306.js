import{u as je,r as l,R as e,H as Ce,L as Te,d as Ie}from"./app.87f202d9.js";import{L as Me}from"./Account.3d556079.js";import{S as h}from"./sweetalert2.all.fcdc7ebb.js";import"./Dropdown.242aa53b.js";function He(){const{errors:i,transactions:$,statusAnggota:B,biodata:m,provinces:g,cities:p,pengajuans:P}=je().props,K=$&&$.map?$.map(a=>a.status):[],[me]=l.exports.useState((B==null?void 0:B.status_anggota)||""),v=K&&K.length>0?K.toString().replace("[","").replace("]","").replace('"',"").replace('"',""):"",[r,S]=l.exports.useState(!1),[_,A]=l.exports.useState(""),[k,ie]=l.exports.useState(0),[o,oe]=l.exports.useState(""),[de,Fe]=l.exports.useState((m==null?void 0:m.id)||""),[G,ue]=l.exports.useState((m==null?void 0:m.name)||""),[Q,ge]=l.exports.useState((m==null?void 0:m.no_anggota)||""),[x,pe]=l.exports.useState((m==null?void 0:m.province_id)||""),[X,Ee]=l.exports.useState((m==null?void 0:m.city_id)||""),[U,fe]=l.exports.useState(""),[H,be]=l.exports.useState(""),[b,M]=l.exports.useState(""),[D,F]=l.exports.useState(""),[c,Z]=l.exports.useState(""),[Ne,j]=l.exports.useState([]),[ee,ae]=l.exports.useState(!1),[L,te]=l.exports.useState(!1),[E,W]=l.exports.useState(null),[ne,q]=l.exports.useState(""),[C,le]=l.exports.useState([{id:1,label:"Akun Satu Sehat aktif",description:"Screenshot profil biodata akun Satu Sehat yang aktif",checked:!1,required:!0},{id:2,label:"STR Seumur Hidup",description:"Scan STR Seumur Hidup yang masih berlaku",checked:!1,required:!0},{id:3,label:"Pencabutan SIP tempat lama",description:"Scan dokumen pencabutan SIP di tempat kerja lama",checked:!1,required:!0}]),he=a=>{!r||le(t=>t.map(n=>n.id===a?{...n,checked:!n.checked}:n))},R=()=>C.every(a=>!a.required||a.checked),ve=()=>{const a=C.filter(n=>n.required).length,t=C.filter(n=>n.required&&n.checked).length;return{completed:t,total:a,percentage:Math.round(t/a*100)}},ke=a=>{if(!r)return;const t=a.target.files[0];if(t){if(t.size>10*1024*1024){h.fire({title:"File Terlalu Besar!",text:"Ukuran file maksimal 10MB untuk dokumen gabungan",icon:"error",confirmButtonText:"Mengerti"});return}if(t.type!=="application/pdf"){h.fire({title:"Format File Salah!",text:"Hanya file PDF yang diizinkan",icon:"error",confirmButtonText:"Mengerti"});return}W(t),q(t.name)}},xe=()=>{W(null),q("")},se=()=>E!==null,O=()=>{const a=new Date().getMonth()+1;return a===1||a===8||a===11},J=()=>new Date().toLocaleString("id-ID",{month:"long"}),T=l.exports.useCallback(()=>{if(!P||!P.data||!Array.isArray(P.data))return 0;const a=new Date().getMonth()+1,t=new Date().getFullYear(),n=P.data.filter(f=>{if(!f||!f.created_at)return!1;try{const N=new Date(f.created_at);return N.getMonth()+1===a&&N.getFullYear()===t}catch(N){return console.error("Error parsing date:",N),!1}}).length;return console.log("Current month submissions count:",n),n},[P]),y=l.exports.useCallback(()=>{const a=J();if(oe(a),v!=="PAID"){S(!1),A("Hanya anggota dengan status PAID yang dapat membuat pengajuan");return}if(!O()){S(!1),A(`Pengajuan mutasi hanya dapat dibuat pada bulan Januari, Agustus, dan November. Saat ini bulan ${a}`);return}const t=T();if(console.log("Eligibility check - submissions count:",t),ie(t),t>=3){S(!1),A(`Anda telah mencapai batas maksimal 3 pengajuan dalam bulan ${a} ini. Tidak dapat membuat pengajuan baru.`);return}S(!0),A("")},[v,T]);l.exports.useEffect(()=>{y()},[y]),l.exports.useEffect(()=>{const a=setInterval(()=>{y()},6e4);return()=>clearInterval(a)},[y]);const z=()=>"Januari, Agustus, dan November",s=(()=>{const a=Math.max(0,3-k);return{current:k,max:3,remaining:a}})(),w=()=>v!=="PAID"?"AKSES DITOLAK":O()?k>=3?"KUOTA HABIS":"BUKA":"TUTUP",V=()=>{switch(w()){case"BUKA":return"success";case"TUTUP":return"danger";case"KUOTA HABIS":return"warning";case"AKSES DITOLAK":return"secondary";default:return"secondary"}},re=()=>{switch(w()){case"BUKA":return"fa-lock-open";case"TUTUP":return"fa-lock";case"KUOTA HABIS":return"fa-ban";case"AKSES DITOLAK":return"fa-user-slash";default:return"fa-lock"}},ye=a=>{if(!r)return;const t=a.target.value;Z(t),t==="dpc"?(M(x),p&&Array.isArray(p)&&j(p.filter(n=>n.province_id==x))):(M(""),j([])),F("")},we=a=>{if(!r)return;const t=a.target.value;if(M(t),t&&p&&Array.isArray(p)){const n=p.filter(f=>f.province_id==t);j(n)}else j([]);F("")},Pe=async a=>{a.preventDefault();const t=T();if(console.log("Final validation - current count:",t),t>=3){h.fire({title:"Batas Pengajuan Tercapai!",text:`Anda telah mencapai batas maksimal 3 pengajuan dalam bulan ${J()} ini. Tidak dapat membuat pengajuan baru.`,icon:"warning",confirmButtonText:"Mengerti"}),S(!1),A(`Anda telah mencapai batas maksimal 3 pengajuan dalam bulan ${J()} ini`),y();return}if(!r){h.fire({title:"Akses Ditolak!",text:_,icon:"error",confirmButtonText:"Mengerti"});return}if(!R()){h.fire({title:"Persyaratan Belum Lengkap!",text:"Harap centang semua persyaratan yang diperlukan sebelum mengajukan mutasi",icon:"warning",confirmButtonText:"Mengerti"});return}if(!se()){h.fire({title:"Dokumen Belum Dilampirkan!",text:"Harap unggah dokumen PDF gabungan yang berisi semua persyaratan",icon:"warning",confirmButtonText:"Mengerti"});return}te(!0);const n=new FormData;n.append("user_id",de),n.append("name",G),n.append("kta",Q),n.append("province_id",x),n.append("city_id",X),n.append("tgl_mutasi",U),n.append("keterangan",H),n.append("tipe_pindah",c),n.append("document",E);const f=C.map(N=>({label:N.label,checked:N.checked}));n.append("checklist_status",JSON.stringify(f)),c==="dpw"?(n.append("tujuan_mutasi",b),n.append("dpc_mutasi",D)):c==="dpc"&&(n.append("tujuan_mutasi",x),n.append("dpc_mutasi",D)),Ie.Inertia.post("/account/pengajuan",n,{headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{h.fire({title:"Success!",text:"Data Pengajuan Anda Sudah Terkirim!",icon:"success",showConfirmButton:!1,timer:2500}),setTimeout(()=>{y()},1e3)},onError:N=>{h.fire({title:"Error!",text:"Terjadi kesalahan saat mengajukan mutasi",icon:"error",confirmButtonText:"Mengerti"})},onFinish:()=>{te(!1)}})},Y=()=>{if(!g||!Array.isArray(g))return"DPW Asal";const a=g.find(t=>t.id==x);return a?a.name:"DPW Asal"},Se=()=>{if(!g||!Array.isArray(g))return"DPW Tujuan";const a=g.find(t=>t.id==b);return a?a.name:"DPW Tujuan"},Ae=()=>{if(!r||T()>=3)return!1;const t=U&&H&&c&&(c==="dpw"&&b&&D||c==="dpc"&&D)&&ee,n=R(),f=se();return t&&n&&f},I=()=>r?"":"bg-light",d=()=>!r||T()>=3,ce=g&&Array.isArray(g)?g:[],De=p&&Array.isArray(p)?p:[],u=ve();return e.createElement(e.Fragment,null,e.createElement(Ce,null,e.createElement("title",null,"User Pengajuan Mutasi - IKATWI")),e.createElement(Me,null,!r&&e.createElement("div",{className:"row mb-4 mt-4"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card border-danger"},e.createElement("div",{className:"card-header bg-danger text-white d-flex justify-content-between align-items-center"},e.createElement("h6",{className:"mb-0"},e.createElement("i",{className:"fas fa-ban me-2"}),"Akses Pengajuan Dibatasi"),e.createElement("span",{className:"badge bg-light text-white"},e.createElement("i",{className:"fas fa-calendar me-1"}),o)),e.createElement("div",{className:"card-body"},e.createElement("div",{className:"alert alert-warning mb-0"},e.createElement("div",{className:"d-flex"},e.createElement("i",{className:"fas fa-exclamation-triangle fa-2x me-3 text-warning"}),e.createElement("div",null,e.createElement("h6",{className:"alert-heading mb-2"},_),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"d-flex align-items-center mb-2"},e.createElement("i",{className:"fas fa-calendar-check text-primary me-2"}),e.createElement("span",null,"Periode Pengajuan: ",e.createElement("strong",null,z()))),e.createElement("div",{className:"d-flex align-items-center mb-2"},e.createElement("i",{className:"fas fa-clock text-info me-2"}),e.createElement("span",null,"Bulan Saat Ini: ",e.createElement("strong",null,o)))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"d-flex align-items-center mb-2"},e.createElement("i",{className:"fas fa-chart-bar text-warning me-2"}),e.createElement("span",null,"Batas: ",e.createElement("strong",null,"3 pengajuan per bulan"))),e.createElement("div",{className:"d-flex align-items-center mb-2"},e.createElement("i",{className:"fas fa-chart-pie text-success me-2"}),e.createElement("span",null,"Status: ",e.createElement("strong",{className:`text-${V()}`},w()))))),v!=="PAID"&&e.createElement("div",{className:"mt-2"},e.createElement("small",{className:"text-muted"},"Status anggota Anda saat ini: ",e.createElement("strong",null,me),". Hubungi admin untuk memperbarui status ke PAID.")),k>=3&&e.createElement("div",{className:"mt-2"},e.createElement("small",{className:"text-danger"},e.createElement("i",{className:"fas fa-info-circle me-1"}),"Anda telah menggunakan semua kuota pengajuan untuk bulan ",o,". Tunggu hingga bulan ",z()," berikutnya untuk membuat pengajuan baru."))))))))),v==="PAID"&&e.createElement("div",{className:"row mb-4 mt-4"},e.createElement("div",{className:"col-md-3"},e.createElement("div",{className:"card border-left-primary shadow h-100 py-2"},e.createElement("div",{className:"card-body"},e.createElement("div",{className:"row no-gutters align-items-center"},e.createElement("div",{className:"col mr-2"},e.createElement("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1"},"Pengajuan ",o),e.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},k,"/3")),e.createElement("div",{className:"col-auto"},e.createElement("i",{className:"fas fa-file-alt fa-2x text-gray-300"})))))),e.createElement("div",{className:"col-md-3"},e.createElement("div",{className:"card border-left-success shadow h-100 py-2"},e.createElement("div",{className:"card-body"},e.createElement("div",{className:"row no-gutters align-items-center"},e.createElement("div",{className:"col mr-2"},e.createElement("div",{className:"text-xs font-weight-bold text-success text-uppercase mb-1"},"Sisa Kuota"),e.createElement("div",{className:"h5 mb-0 font-weight-bold text-gray-800"},s.remaining)),e.createElement("div",{className:"col-auto"},e.createElement("i",{className:"fas fa-tachometer-alt fa-2x text-gray-300"})))))),e.createElement("div",{className:"col-md-3"},e.createElement("div",{className:"card border-left-info shadow h-100 py-2"},e.createElement("div",{className:"card-body"},e.createElement("div",{className:"row no-gutters align-items-center"},e.createElement("div",{className:"col mr-2"},e.createElement("div",{className:"text-xs font-weight-bold text-info text-uppercase mb-1"},"Status Periode"),e.createElement("div",{className:"h6 mb-0 font-weight-bold text-gray-800"},e.createElement("span",{className:`text-${V()}`},w()))),e.createElement("div",{className:"col-auto"},e.createElement("i",{className:`fas ${re()} fa-2x text-gray-300`})))))),e.createElement("div",{className:"col-md-3"},e.createElement("div",{className:"card border-left-warning shadow h-100 py-2"},e.createElement("div",{className:"card-body"},e.createElement("div",{className:"row no-gutters align-items-center"},e.createElement("div",{className:"col mr-2"},e.createElement("div",{className:"text-xs font-weight-bold text-warning text-uppercase mb-1"},"Bulan Saat Ini"),e.createElement("div",{className:"h6 mb-0 font-weight-bold text-gray-800"},o)),e.createElement("div",{className:"col-auto"},e.createElement("i",{className:"fas fa-calendar fa-2x text-gray-300"}))))))),v==="PAID"&&O()&&e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card"},e.createElement("div",{className:"card-body"},e.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},e.createElement("span",{className:"text-muted"},"Penggunaan kuota pengajuan bulan ",o),e.createElement("span",{className:`badge bg-${s.remaining===0?"danger":s.remaining<=1?"warning":"success"}`},s.current," / ",s.max)),e.createElement("div",{className:"progress",style:{height:"10px"}},e.createElement("div",{className:`progress-bar bg-${s.current>=s.max?"danger":s.current>=2?"warning":"success"}`,role:"progressbar",style:{width:`${s.current/s.max*100}%`},"aria-valuenow":s.current,"aria-valuemin":"0","aria-valuemax":s.max})),e.createElement("small",{className:"text-muted mt-2 d-block"},s.remaining>0?`Anda masih dapat membuat ${s.remaining} pengajuan lagi bulan ${o} ini`:`Anda telah mencapai batas maksimal 3 pengajuan bulan ${o} ini. Tidak dapat membuat pengajuan baru.`),s.current>=3&&e.createElement("div",{className:"alert alert-danger mt-2 mb-0 py-2"},e.createElement("i",{className:"fas fa-exclamation-triangle me-2"}),e.createElement("strong",null,"Batas Tercapai!")," Anda tidak dapat membuat pengajuan baru hingga bulan berikutnya yang diizinkan."))))),e.createElement("div",{className:"col-md-12 mt-2"},e.createElement("div",{className:`card border-0 shadow-sm ${r?"":"opacity-75"}`},e.createElement("div",{className:`card-header ${r?"bg-primary":"bg-secondary"} text-white`},e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement("h5",{className:"card-title mb-0"},e.createElement("i",{className:`fas ${r?"fa-exchange-alt":"fa-lock"} me-2`}),"Form Pengajuan Mutasi",r&&e.createElement("small",{className:"ms-2 opacity-75"},"- Periode ",o," ",w())),r?e.createElement("span",{className:`badge bg-${V()}`},e.createElement("i",{className:`fas ${re()} me-1`}),w()):e.createElement("span",{className:"badge bg-warning"},e.createElement("i",{className:"fas fa-ban me-1"}),"Terkunci"))),e.createElement("div",{className:"card-body"},r&&s.remaining>0&&e.createElement("div",{className:"alert alert-success mb-4"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("i",{className:"fas fa-check-circle fa-lg me-3 text-success"}),e.createElement("div",null,e.createElement("h6",{className:"alert-heading mb-1"},"Akses Diberikan! - Periode ",o," BUKA"),e.createElement("p",{className:"mb-0"},"Anda dapat membuat pengajuan mutasi. Sisa kuota: ",e.createElement("strong",null,s.remaining," dari ",s.max)," pengajuan bulan ",o,".")))),r&&s.remaining===1&&e.createElement("div",{className:"alert alert-warning mb-4"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("i",{className:"fas fa-exclamation-triangle fa-lg me-3 text-warning"}),e.createElement("div",null,e.createElement("h6",{className:"alert-heading mb-1"},"Kuota Hampir Habis!"),e.createElement("p",{className:"mb-0"},"Ini adalah pengajuan terakhir yang dapat Anda buat bulan ",o," ini.")))),e.createElement("form",{onSubmit:Pe},e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-12"},e.createElement("h6",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-user me-2"}),"Data Diri")),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Nama Lengkap"),e.createElement("input",{type:"text",className:"form-control bg-light",value:G,onChange:a=>ue(a.target.value),disabled:!0}))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Nomor KTA"),e.createElement("input",{type:"text",className:"form-control bg-light",value:Q,onChange:a=>ge(a.target.value),disabled:!0})))),e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-12"},e.createElement("h6",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-map-marker-alt me-2"}),"Asal Keanggotaan")),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"DPW Asal"),e.createElement("select",{className:"form-select bg-light",disabled:!0,value:x,onChange:a=>pe(a.target.value)},e.createElement("option",{value:""},"-- Pilih DPW --"),ce.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name))))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"DPC Asal"),e.createElement("select",{className:"form-select bg-light",disabled:!0,value:X,onChange:a=>Ee(a.target.value)},e.createElement("option",{value:""},"-- Pilih DPC --"),De.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name)))))),e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-12"},e.createElement("h6",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-file-alt me-2"}),"Data Mutasi")),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Tipe Pindah ",e.createElement("span",{className:"text-danger"},"*")),e.createElement("select",{className:`form-select ${I()}`,value:c,onChange:ye,required:!0,disabled:d()},e.createElement("option",{value:""},"-- Pilih Tipe Pindah --"),e.createElement("option",{value:"dpw"},"Pindah DPW (Pindah Provinsi)"),e.createElement("option",{value:"dpc"},"Pindah DPC (Pindah Kabupaten/Kota dalam Provinsi yang sama)")),i.tipe_pindah&&e.createElement("div",{className:"alert alert-danger mt-2"},i.tipe_pindah))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Tanggal Mutasi ",e.createElement("span",{className:"text-danger"},"*")),e.createElement("input",{type:"date",className:`form-control ${I()}`,value:U,onChange:a=>fe(a.target.value),placeholder:"Pilih Tanggal Mutasi",required:!0,disabled:d()}),i.tgl_mutasi&&e.createElement("div",{className:"alert alert-danger mt-2"},i.tgl_mutasi)))),e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-12"},e.createElement("h6",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-location-arrow me-2"}),"Tujuan Mutasi")),(c==="dpw"||c==="dpc")&&e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},c==="dpw"?"Tujuan DPW":"DPW"," ",e.createElement("span",{className:"text-danger"},"*")),c==="dpw"?e.createElement("select",{className:`form-select ${I()}`,value:b,onChange:we,required:!0,disabled:d()},e.createElement("option",{value:""},"-- Pilih Tujuan DPW --"),ce.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name))):e.createElement("input",{type:"text",className:"form-control bg-light",value:Y(),disabled:!0}),i.tujuan_mutasi&&e.createElement("div",{className:"alert alert-danger mt-2"},i.tujuan_mutasi))),(c==="dpw"||c==="dpc")&&e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Tujuan DPC ",e.createElement("span",{className:"text-danger"},"*")),e.createElement("select",{className:`form-select ${I()}`,value:D,onChange:a=>F(a.target.value),required:!0,disabled:d()||c==="dpw"&&!b},e.createElement("option",{value:""},c==="dpw"&&!b?"-- Pilih DPW terlebih dahulu --":"-- Pilih Tujuan DPC --"),Ne.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name))),c==="dpw"&&!b&&e.createElement("div",{className:"form-text text-warning"},"Pilih DPW tujuan terlebih dahulu untuk melihat DPC yang tersedia"),i.dpc_mutasi&&e.createElement("div",{className:"alert alert-danger mt-2"},i.dpc_mutasi))),c==="dpc"&&e.createElement("div",{className:"col-12"},e.createElement("div",{className:"alert alert-info"},e.createElement("i",{className:"fas fa-info-circle me-2"}),e.createElement("strong",null,"Informasi:")," Anda melakukan mutasi DPC dalam Provinsi ",e.createElement("strong",null,Y()),". Tujuan DPW akan tetap di ",e.createElement("strong",null,Y()),".")),c==="dpw"&&b&&e.createElement("div",{className:"col-12"},e.createElement("div",{className:"alert alert-info"},e.createElement("i",{className:"fas fa-info-circle me-2"}),e.createElement("strong",null,"Informasi:")," Anda melakukan mutasi ke Provinsi ",e.createElement("strong",null,Se()),". Pilih DPC tujuan di provinsi tersebut."))),e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-12"},e.createElement("h6",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-clipboard-check me-2"}),"Ceklist Persyaratan Mutasi"),e.createElement("div",{className:"card mb-3 border-success"},e.createElement("div",{className:"card-body"},e.createElement("div",{className:"d-flex justify-content-between align-items-center mb-2"},e.createElement("span",{className:"fw-bold"},"Kelengkapan Persyaratan"),e.createElement("span",{className:`badge bg-${u.percentage===100?"success":u.percentage>=50?"warning":"danger"}`},u.percentage,"%")),e.createElement("div",{className:"progress",style:{height:"10px"}},e.createElement("div",{className:`progress-bar bg-${u.percentage===100?"success":u.percentage>=50?"warning":"danger"}`,role:"progressbar",style:{width:`${u.percentage}%`},"aria-valuenow":u.percentage,"aria-valuemin":"0","aria-valuemax":"100"})),e.createElement("small",{className:"text-muted mt-2 d-block"},u.completed," dari ",u.total," persyaratan telah dipenuhi"),u.percentage===100&&e.createElement("div",{className:"alert alert-success mt-2 mb-0 py-2"},e.createElement("i",{className:"fas fa-check-circle me-2"}),e.createElement("strong",null,"Semua persyaratan sudah terpenuhi!")," Silakan lanjutkan dengan mengunggah dokumen."))),e.createElement("div",{className:"card mb-4 border-primary"},e.createElement("div",{className:"card-header bg-primary text-white"},e.createElement("h6",{className:"mb-0"},e.createElement("i",{className:"fas fa-list-check me-2"}),"CEKLIS PERSYARATAN MUTASI (WAJIB DIPENUHI SEMUA)")),e.createElement("div",{className:"card-body"},e.createElement("div",{className:"alert alert-light mb-3"},e.createElement("strong",null,"Instruksi:")," Centang semua persyaratan di bawah ini untuk melanjutkan pengajuan mutasi. Setelah semua dicentang, unggah satu file PDF yang berisi semua dokumen yang diperlukan."),e.createElement("div",{className:"mb-4"},e.createElement("h6",{className:"fw-bold mb-3"},"Dokumen yang Diperlukan:"),e.createElement("div",{className:"list-group"},C.map(a=>e.createElement("div",{key:a.id,className:"list-group-item list-group-item-action"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("div",{className:"form-check flex-grow-1"},e.createElement("input",{className:"form-check-input me-3",type:"checkbox",id:`checklist-${a.id}`,checked:a.checked,onChange:()=>he(a.id),disabled:d()}),e.createElement("label",{className:"form-check-label d-flex align-items-center",htmlFor:`checklist-${a.id}`},e.createElement("div",null,e.createElement("strong",{className:`${a.checked?"text-success":"text-dark"}`},a.label),e.createElement("div",{className:"form-text small"},a.description)))),e.createElement("div",null,a.checked?e.createElement("span",{className:"badge bg-success"},e.createElement("i",{className:"fas fa-check me-1"}),"Terpenuhi"):e.createElement("span",{className:"badge bg-secondary"},e.createElement("i",{className:"fas fa-times me-1"}),"Belum"))))))),e.createElement("div",{className:"border rounded p-3 bg-light"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Upload Dokumen PDF Gabungan ",e.createElement("span",{className:"text-danger"},"*")),e.createElement("div",{className:"alert alert-info mb-3"},e.createElement("i",{className:"fas fa-info-circle me-2"}),e.createElement("strong",null,"Catatan:")," Gabungkan semua dokumen yang tercantum di atas menjadi SATU file PDF. File harus berisi semua dokumen yang diperlukan dalam urutan yang rapi."),e.createElement("div",{className:"input-group"},e.createElement("input",{type:"text",className:"form-control",value:ne,placeholder:"Belum ada file dipilih",disabled:!0}),e.createElement("label",{className:`btn ${E?"btn-outline-success":"btn-outline-primary"}`,htmlFor:"fileUpload",disabled:d()},e.createElement("i",{className:`fas ${E?"fa-check":"fa-upload"} me-1`}),E?"Ganti File":"Pilih File"),e.createElement("input",{type:"file",className:"form-control d-none",id:"fileUpload",accept:".pdf,.PDF",onChange:ke,disabled:d()}),E&&e.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:xe,disabled:d()},e.createElement("i",{className:"fas fa-trash me-1"}),"Hapus")),e.createElement("div",{className:"form-text"},e.createElement("i",{className:"fas fa-info-circle me-1"}),e.createElement("span",{className:"fst-italic"},"Format: PDF (maksimal 10MB)"),E&&e.createElement("span",{className:"text-success ms-2"},e.createElement("i",{className:"fas fa-check-circle me-1"}),"File siap diunggah")),i.document&&e.createElement("div",{className:"alert alert-danger mt-2"},i.document)),E&&e.createElement("div",{className:"alert alert-success"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("i",{className:"fas fa-file-pdf fa-lg me-3 text-danger"}),e.createElement("div",null,e.createElement("strong",null,"Dokumen yang diunggah:"),e.createElement("div",{className:"small"},e.createElement("i",{className:"fas fa-file me-1"}),ne,e.createElement("span",{className:"text-muted ms-2"},"(",Math.round(E.size/1024)," KB)")))))),!R()&&e.createElement("div",{className:"alert alert-warning mt-3"},e.createElement("i",{className:"fas fa-exclamation-triangle me-2"}),e.createElement("strong",null,"Perhatian:")," Anda belum mencentang semua persyaratan yang diperlukan. Harap pastikan semua dokumen sudah tersedia sebelum mengunggah file PDF."))))),e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-12"},e.createElement("h6",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-sticky-note me-2"}),"Keterangan")),e.createElement("div",{className:"col-12"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold"},"Alasan Mutasi ",e.createElement("span",{className:"text-danger"},"*")),e.createElement("textarea",{className:`form-control ${I()}`,rows:"4",value:H,onChange:a=>be(a.target.value),placeholder:"Contoh: Mutasi karena pindah tempat kerja, pindah domisili, atau alasan lainnya...",required:!0,disabled:d()}),e.createElement("div",{className:"form-text"},"Jelaskan alasan Anda melakukan mutasi dengan jelas."),i.keterangan&&e.createElement("div",{className:"alert alert-danger mt-2"},i.keterangan)))),e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"card border-warning"},e.createElement("div",{className:"card-body"},e.createElement("div",{className:"form-check"},e.createElement("input",{className:"form-check-input",type:"checkbox",required:!0,id:"confirmationCheck",checked:ee,onChange:a=>ae(a.target.checked),disabled:d()}),e.createElement("label",{className:"form-check-label fw-bold text-warning",htmlFor:"confirmationCheck"},e.createElement("i",{className:"fas fa-exclamation-triangle me-2"}),"Saya menyatakan bahwa data yang saya inputkan adalah benar dan sesuai. Saya bertanggung jawab penuh atas kebenaran data mutasi ini.")))))),e.createElement("div",{className:"row mt-4"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"d-flex gap-2 justify-content-end"},e.createElement(Te,{href:"/account/pengajuan",className:"btn btn-secondary"},e.createElement("i",{className:"fas fa-arrow-left me-2"}),"Kembali"),e.createElement("button",{type:"reset",className:"btn btn-warning",onClick:()=>{Z(""),M(""),F(""),j([]),le(a=>a.map(t=>({...t,checked:!1}))),W(null),q(""),ae(!1)},disabled:d()||L},e.createElement("i",{className:"fas fa-redo me-2"}),"Reset"),e.createElement("button",{type:"submit",className:"btn btn-success",disabled:!Ae()||L||d()},L?e.createElement(e.Fragment,null,e.createElement("i",{className:"fas fa-spinner fa-spin me-2"}),"Memproses..."):e.createElement(e.Fragment,null,e.createElement("i",{className:"fas fa-paper-plane me-2"}),r?"Ajukan Mutasi":"Akses Ditolak"))))),!r&&e.createElement("div",{className:"row mt-3"},e.createElement("div",{className:"col-12"},e.createElement("div",{className:"alert alert-danger"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("i",{className:"fas fa-lock me-3 fa-lg"}),e.createElement("div",null,e.createElement("h6",{className:"alert-heading mb-1"},"Form Terkunci"),e.createElement("p",{className:"mb-0"},_),k>=3&&e.createElement("p",{className:"mb-0 mt-2"},e.createElement("strong",null,"Solusi:")," Tunggu hingga bulan ",z()," berikutnya untuk membuat pengajuan baru."))))))))))))}export{He as default};
