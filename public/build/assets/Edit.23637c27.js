import{u as A,r as s,R as e,H as I,d as L}from"./app.af2fefbb.js";import{L as K}from"./Account.8d1a9220.js";import{S as R}from"./sweetalert2.all.ec1426d0.js";import"./Dropdown.dadc4d68.js";function U(){const{errors:t,provinces:c,cities:i,verifPengajuan:l}=A().props,[k,$]=s.exports.useState(l.user_id),[o,w]=s.exports.useState(l.name),[u,P]=s.exports.useState(l.kta),[d,D]=s.exports.useState(l.province_id),[p,y]=s.exports.useState(l.city_id),[E,j]=s.exports.useState(l.tgl_mutasi),[g,S]=s.exports.useState(l.keterangan),[N,C]=s.exports.useState(l.tujuan_mutasi),[f,_]=s.exports.useState(l.dpc_mutasi),[m,T]=s.exports.useState(l.status),[b,M]=s.exports.useState(l.keterangan_revisi),[n,v]=s.exports.useState(!1),W=async a=>{a.preventDefault(),v(!0),L.Inertia.post(`/account/verifPengajuanDpw/${l.id}`,{user_id:k,name:o,kta:u,province_id:d,city_id:p,tgl_mutasi:E,keterangan:g,tujuan_mutasi:N,dpc_mutasi:f,status:m,keterangan_revisi:b,_method:"PUT"},{onSuccess:()=>{R.fire({title:"Success!",text:"Data Pengajuan Anda Berhasil di Update!",icon:"success",showConfirmButton:!1,timer:2500})},onFinish:()=>{v(!1)}})},h=a=>{switch(a){case"ditunda":return"bg-warning text-dark";case"dikirim":return"bg-info text-white";case"selesai":return"bg-success text-white";case"ditolak":return"bg-danger text-white";default:return"bg-secondary text-white"}},x=a=>{switch(a){case"ditunda":return"Ditunda untuk perbaikan";case"dikirim":return"Disetujui mutasi oleh DPW/DPC Asal (Terkirim ke DPW Jika Tipe Mutasi DPW)";case"selesai":return"Diterima DPW/DPC Tujuan (Mutasi Selesai dan Akan Muncull ttd/nosurat di Pengajuan Print)";case"ditolak":return"Ditolak oleh DPW/DPC Asal";default:return a}},r=a=>{switch(a){case"ditunda":return"fas fa-clock";case"dikirim":return"fas fa-paper-plane";case"selesai":return"fas fa-check-circle";case"ditolak":return"fas fa-times-circle";default:return"fas fa-info-circle"}};return e.createElement(e.Fragment,null,e.createElement(I,null,e.createElement("title",null,"Verif Pengajuan - IKATWI")),e.createElement(K,null,e.createElement("div",{className:"container-fluid py-4"},e.createElement("div",{className:"row justify-content-center"},e.createElement("div",{className:"col-12 col-lg-10 col-xl-8"},e.createElement("div",{className:"card shadow-sm border-0 position-relative"},n&&e.createElement("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-white bg-opacity-75 rounded z-3"},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"spinner-border text-primary mb-2",style:{width:"3rem",height:"3rem"},role:"status"},e.createElement("span",{className:"visually-hidden"},"Loading...")),e.createElement("p",{className:"text-primary fw-bold fs-5"},"Menyimpan perubahan..."))),e.createElement("div",{className:"card-header bg-primary text-white py-3"},e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement("h4",{className:"mb-0"},e.createElement("i",{className:"fas fa-edit me-2"}),"Verif Pengajuan Mutasi"),e.createElement("div",{className:`badge ${h(m)} px-3 py-2`},e.createElement("i",{className:`${r(m)} me-2`}),x(m)))),e.createElement("div",{className:"card-body p-4"},e.createElement("form",{onSubmit:W},e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-md-12"},e.createElement("h5",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-user-circle me-2"}),"Informasi Anggota"))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Nama Lengkap"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-user"})),e.createElement("input",{type:"text",className:"form-control bg-light",value:o,onChange:a=>w(a.target.value),disabled:!0})))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Nomor KTA"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-id-card"})),e.createElement("input",{type:"text",className:"form-control bg-light",value:u,onChange:a=>P(a.target.value),disabled:!0}))))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"DPW Asal"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-map-marker-alt"})),e.createElement("select",{className:"form-select bg-light",disabled:!0,value:d,onChange:a=>D(a.target.value)},e.createElement("option",{value:""},"-- Pilih DPW --"),c.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name)))))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"DPC Asal"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-map-pin"})),e.createElement("select",{className:"form-select bg-light",disabled:!0,value:p,onChange:a=>y(a.target.value)},e.createElement("option",{value:""},"-- Pilih DPC --"),i.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name))))))),e.createElement("div",{className:"row mb-4 mt-4"},e.createElement("div",{className:"col-md-12"},e.createElement("h5",{className:"text-primary mb-3 border-bottom pb-2"},e.createElement("i",{className:"fas fa-exchange-alt me-2"}),"Data Mutasi"))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Tanggal Mutasi"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-calendar-alt"})),e.createElement("input",{type:"date",className:"form-control bg-light",value:E,onChange:a=>j(a.target.value),disabled:!0})),t.tgl_mutasi&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.tgl_mutasi))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Status Verifikasi"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-check-circle"})),e.createElement("select",{className:"form-select",value:m,onChange:a=>T(a.target.value),disabled:n},e.createElement("option",{value:""},"-- Pilih Status --"),e.createElement("option",{value:"ditunda"},"Ditunda untuk perbaikan"),e.createElement("option",{value:"dikirim"},"Disetujui mutasi oleh DPW/DPC Asal (Terkirim)"),e.createElement("option",{value:"selesai"},"Diterima DPW/DPC Tujuan (Mutasi Selesai)"),e.createElement("option",{value:"ditolak"},"Ditolak oleh DPW/DPC Asal"))),t.status&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.status)))),m&&e.createElement("div",{className:"row mb-3"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"alert alert-info border-0"},e.createElement("div",{className:"d-flex align-items-center"},e.createElement("i",{className:`${r(m)} fa-lg me-3`}),e.createElement("div",null,e.createElement("h6",{className:"mb-1 fw-bold"},"Preview Status:"),e.createElement("span",{className:`badge ${h(m)} px-3 py-2`},e.createElement("i",{className:`${r(m)} me-2`}),x(m))))))),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Tujuan Mutasi (DPW)"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-map-marker-alt"})),e.createElement("select",{className:"form-select bg-light",value:N,onChange:a=>C(a.target.value),disabled:!0},e.createElement("option",{value:""},"-- Pilih DPW Tujuan --"),c.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name)))),t.tujuan_mutasi&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.tujuan_mutasi))),e.createElement("div",{className:"col-md-6"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Tujuan Mutasi (DPC)"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light"},e.createElement("i",{className:"fas fa-map-pin"})),e.createElement("select",{className:"form-select bg-light",value:f,onChange:a=>_(a.target.value),disabled:!0},e.createElement("option",{value:""},"-- Pilih DPC Tujuan --"),i.map(a=>e.createElement("option",{value:a.id,key:a.id},a.name)))),t.dpc_mutasi&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.dpc_mutasi)))),e.createElement("div",{className:"row mt-2"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Keterangan Mutasi"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light align-items-start pt-2"},e.createElement("i",{className:"fas fa-sticky-note"})),e.createElement("textarea",{className:"form-control bg-light",rows:"3",value:g,onChange:a=>S(a.target.value),placeholder:"Contoh: mutasi karena pindah tempat kerja",disabled:!0})),t.keterangan&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.keterangan)))),e.createElement("div",{className:"row mt-2"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"mb-3"},e.createElement("label",{className:"form-label fw-bold text-dark"},"Keterangan Revisi"),e.createElement("div",{className:"input-group"},e.createElement("span",{className:"input-group-text bg-light align-items-start pt-2"},e.createElement("i",{className:"fas fa-edit"})),e.createElement("textarea",{className:"form-control",rows:"3",value:b,onChange:a=>M(a.target.value),placeholder:"Masukkan keterangan revisi jika diperlukan",disabled:n})),t.keterangan_revisi&&e.createElement("div",{className:"text-danger small mt-1"},e.createElement("i",{className:"fas fa-exclamation-circle me-1"}),t.keterangan_revisi)))),e.createElement("div",{className:"row mt-4"},e.createElement("div",{className:"col-md-12"},e.createElement("div",{className:"d-flex justify-content-end gap-2 border-top pt-4"},e.createElement("button",{type:"reset",className:"btn btn-outline-secondary px-4",disabled:n},e.createElement("i",{className:"fas fa-redo me-2"})," Reset"),e.createElement("button",{type:"submit",className:"btn btn-success px-4",disabled:n},n?e.createElement(e.Fragment,null,e.createElement("div",{className:"spinner-border spinner-border-sm me-2",role:"status"},e.createElement("span",{className:"visually-hidden"},"Loading...")),"Menyimpan..."):e.createElement(e.Fragment,null,e.createElement("i",{className:"fas fa-save me-2"})," Simpan Perubahan")))))))))))))}export{U as default};
